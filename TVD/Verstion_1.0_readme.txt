TVD mod
by Nickorr

-------------------------------------------

План построения / настройки миссии на ТВД:

1. Создать маркеры-зоны для захвата/удержания, назвать маркеры mZone_0, mZone_1 и т.д., в поле Text маркера вписать человеческое название зоны (отображается в дебриф-окне)

2. К каждой зоне привязать модуль WMT Point

3. Прописать ценность важным юнитам (10 это обычный боец, 20 - комод, 40 - взводный, 100 - кс и тд) в ините:
	1)Командир стороны - this setVariable ["TVD_UnitValue",[independent,100,"sideLeader"]];

4. Создать тыловую зону для каждой стороны, куда они смогут отступить.
	Тыловая база (куда отступать) должна быть обрамлена триггером. Name триггера должен быть: 
	для стороны 0 - trgBase_side0
	для стороны 1 - trgBase_side1
	
5. Вызов из init.sqf:

	null = [
		sides, 				// - выставить стороны [Сторона0, Сторона1]
		capZonesCount, 		// - (не обязательно) указать количество захватываемых зон (0 - если нет зон). Зоны - в виде маркеров с Name - mZone_0 .. mZone_N-1 ).
		RetreatPossible, 	// - (не обязательно) порог потерь, начиная с которого стороне можно будет отступить
		ZoneGain, 			// - (не обязательно) имеет ли сторона возможность отступить. true - может, false - нет. порядок - [east, west, resistance]
		RetreatRatio		// - (не обязательно) выставить цену одной зоны (не важно если TVD_capZonesCount = 0 )
	] spawn compileFinal preprocessFileLineNumbers "TVD\TVD_Main.sqf";
------------------------------------------
	Пример со значениями по умолчанию:

	null = [
		[west, east], 
		0, 
		[true,true,true], 
		50, 
		0.75
	] spawn compileFinal preprocessFileLineNumbers "TVD\TVD_Main.sqf";
------------------------------------------
	Пример с минимальными настройками (не указанные будут как в примере выше):

	null = [ [west, east] ] spawn compileFinal preprocessFileLineNumbers "TVD\TVD_Main.sqf";
------------------------------------------




-------------------------------------------
CHANGELOG:

1.0:
+ Реализован учет захваченных в плен вражеских солдат - "пленным" считается боец, связанный и находящийся в тыловой зоне вражеской стороны.
+ Реализована отправка пленных в тыл стороны.
+ В лог событий добавлен вывод соотношения сторон на момент свершившегося какого-либо события
* Уменьшена на 5% необходимая разница в преимуществе для достижения победы одной из сторон.
* TVD_HeavyLossesOverride - дополнительно локальные переменные отмечены в private
* Вписан TVD_hl_ratio по умолчанию - больше не нужно указывать в ините.
* В логе вместо "X был убит" теперь пишется "X пропал без вести", подразумевая смерть ИЛИ захват в плен врагом.
* Задание параметров платформы вынесено в аргументы при вызове TVD_Main.sqf в Init.sqf
* Больше не нужно прописывать wmt_hl_sidelimits и wmt_hl_ratio - это теперь выполняется автоматически в TVD_Main.sqf

0.31:
* Исправлен скрипт передачи командования при смерти КСа/Исполняющего (выставлен правильный порядок для mpEventHandlers)
* Исправлен скрипт отправки техники в тыл - теперь работает
* Вызов всей платформы теперь из init.sqf

0.3:
+ Добавлена функция наследования командования при смерти КСа (передается другим взводным или КО). Если все командующие утеряны, возможность отступить - тоже утеряна.
+ Сторона теперь необязательно может иметь возможность отступить (для случаев когда по условностям миссии отступать некуда) - на усмотрение картодела.
+ Технику можно захватить - стороной-владельцем техники считается та сторона, чей боец сидит в технике. Пустая техника сохраняет принадлежность стороне того бойца, кто сидел в ней последним. Потерявшая технику сторона теряет преимущество соразмерное ценности техники. Захватившая сторона получает преимущество соразмерное половине ценности техники.
+ Технику (захваченную или собственную) можно отправить в тыл. При этом техника с карты удаляется, а ее ценность остается у стороны, отогнавшей технику в свои тылы.
+ Техника вне тыловой зоны при отступлении автоматически захватывается врагом, а не просто списывается как уничтоженная.